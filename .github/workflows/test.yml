name: test

on:
  push:
  
  pull_request:
    branches:
      - main
    

jobs:

  #pull_requestの確認
  job1:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "job1"
          echo "${{github.ref_name}}"
          echo "$GITHUB_REF_NAME"
          echo "${{github.ref}}"
          echo "$GITHUB_REF"
          curl \
            -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" \
            -H "Accept: application/vnd.github.v3+json" \
            -s \
            "https://api.github.com/repos/$GITHUB_REPOSITORY/pulls?state=open&head=$GITHUB_REPOSITORY:$GITHUB_REF_NAME"
  


  #静的解析
  job2:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "job2"

  #デプロイ
  job3:
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "job3"
